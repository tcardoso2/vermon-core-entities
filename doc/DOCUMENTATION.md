<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [motionDetectors](#motiondetectors)
-   [bindDetector](#binddetector)
-   [unbindDetector](#unbinddetector)
-   [addChange](#addchange)
-   [applyFilter](#applyfilter)
-   [MotionDetector](#motiondetector)
    -   [applyFilter](#applyfilter-1)
    -   [reset](#reset)
    -   [exit](#exit)
-   [BaseNotifier](#basenotifier)
    -   [notify](#notify)
    -   [bindToDetector](#bindtodetector)
    -   [bindToDetectors](#bindtodetectors)
    -   [useIn](#usein)
    -   [use](#use)
    -   [stop](#stop)
-   [isReserved](#isreserved)
-   [create](#create)
-   [instanciate](#instanciate)
-   [handle_any_declarative_parameters](#handle_any_declarative_parameters)
-   [handle_declarative_pattern](#handle_declarative_pattern)
-   [convertDetectorsToSubEnvironment](#convertdetectorstosubenvironment)
-   [get_declarative_pattern](#get_declarative_pattern)
-   [is_array_or_object](#is_array_or_object)
-   [is_declarative_pattern](#is_declarative_pattern)
-   [convert_pattern_to_instance](#convert_pattern_to_instance)
-   [extend](#extend)
-   [GetExtensions](#getextensions)
-   [IsInstanceOf](#isinstanceof)
-   [GetEnvironment](#getenvironment)
-   [SetEnvironment](#setenvironment)
-   [GetNotifiers](#getnotifiers)
-   [SetNotifiers](#setnotifiers)
-   [AddDetectorToSubEnvironmentOnly](#adddetectortosubenvironmentonly)
-   [MultiEnvironment](#multienvironment)
-   [IOBrokerDetector](#iobrokerdetector)
    -   [startMonitoring](#startmonitoring)
-   [BaseFilter](#basefilter)

## 

**Parameters**

-   `params` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** to add, you can add a "name" and a "state".

## motionDetectors

: Contains the motion detectors attached to the current environment.

## bindDetector

Binds and adds {MotionDetector} object to the Environment. an environment can have many Detectors.
Once binded, the Detector will receive change events in case the Environment value changes.

**Parameters**

-   `md` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the MotionDetector object type to bind to this environment
-   `notifiers` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** is an optional array of Notifier objects which will be binded to the detector.
-   `force`   (optional, default `false`)
-   `if` **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** force = true means the Notifiers will be added without the system actual checking these are real Notifiers. By default force = false;

## unbindDetector

Unbinds and removes an existing {MotionDetector} object from the Environment, and its listeners;

**Parameters**

-   `md` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the MotionDetector object type to remove from this environment

## addChange

Changes the value of the current state of the environment, causing a propagation of change events (called 'changedState' envent) to the binded detectors.
The value if the state is also affected by the existence of Filters. See {Filter} object and {applyFilter} function.

**Parameters**

-   `intensity` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the value which will change the state. If it is a Number, will add to the current state, if it is an object will replace it;

**Examples**

```javascript
//TODO: Add an example
```

## applyFilter

Adds a filter to the environment. Filters only do one thing: Prevent changes in the Environment to propagate
to the Detectors via affecting the {addChange} function behaviour.
For instance if an Environment is only supposed to accept integer values, one can create a filter which ignores attempts on adding changes which are not Numbers;
Only after the filter is added, will affect the {addChange} function

**Parameters**

-   `filter` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the Filter object;

**Examples**

```javascript
//TODO: Need to add an example
```

## MotionDetector

**Parameters**

-   `name` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** of the Motion Detector, will show up in logs and messages
-   `initialIntensity` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the Motion Detector state. Motion Detectors record the last state which triggered them, which is passed from the environment to the detectors when there is a change.

### applyFilter

Adds a filter to the Motion Detector. Filters on the Detectors only do one thing: prevent changes to propagate to the notifiers.
Only after the filter is added, will affect the {addChange} function

**Parameters**

-   `filter` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the Filter object;

**Examples**

```javascript
//TODO: Need to add an example
```

### reset

Resets to the original state

### exit

Add any cleanup code here. For the Base MotionDetector class it does nothing.

## BaseNotifier

**Parameters**

-   `name` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** of the Notifier. This is important as it will show up in the template message of the notification.

### notify

Emits a 'pushedNotification' event. To Receive this you can subscribe to this event, or simply use the
Notifier class for the communication means you intent to use.

**Parameters**

-   `text` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is the contents of the notified message
-   `oldState` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the previous state preceeding the change
-   `newState` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the new state after the change happens as detected by the Change Detector
-   `environment` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is also propagated for convenience
-   `detector` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the MotionDetector instance which has detected the related change

**Examples**

```javascript
//TODO: Need to add an example
```

### bindToDetector

Although it the detector which pushes the messages to Notifiers, it's the notifier who has the responsibility to bind to existing detectors.
After binding, the underlyig detector's Changes will be propagated to this Notifier, so long the Detector is active and the changes are not filtered out.

**Parameters**

-   `detector` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the MotionDetector instance to bind this Notifier to.
-   `template` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is the skeleton of the message for the notifier
-   `force`   (optional, default `false`)
-   `if` **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** force = true means the Notifiers will be added without the system actual checking these are real Notifiers. By default force = false;

**Examples**

```javascript
//TODO: Need to add an example
```

### bindToDetectors

Same as {bindToDetector} but bind the same Notifier to more Detectors

**Parameters**

-   `detectors` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is an Array of MotionDetector instance to bind this Notifier to.
-   `template` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is the skeleton of the message for the notifier
-   `force`   (optional, default `false`)
-   `if` **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** force = true means the Notifiers will be added without the system actual checking these are real Notifiers. By default force = false;

**Examples**

```javascript
//TODO: Need to add an example
```

### useIn

TODO: Needs documentation - Extensibility methods

### use

TODO: Needs documentation - Extensibility methods

**Parameters**

-   `_extension`  

### stop

TODO: Needs documentation

## 

TODO: Needs documentation

## isReserved

TODO: Needs documentation

**Parameters**

-   `name`  

## create

TODO: Needs documentation

**Parameters**

-   `name`  

## instanciate

TODO: Needs documentation

**Parameters**

-   `name`  
-   `params`  

## handle_any_declarative_parameters

TODO: Needs documentation

**Parameters**

-   `params`  

## handle_declarative_pattern

TODO: Needs documentation

**Parameters**

-   `prop`  
-   `all`  

## convertDetectorsToSubEnvironment

TODO: Needs documentation

**Parameters**

-   `subEnvironment`  
-   `detectors`  

## get_declarative_pattern

TODO: Needs documentation

**Parameters**

-   `prop`  

## is_array_or_object

TODO: Needs documentation

**Parameters**

-   `o`  

## is_declarative_pattern

TODO: Needs documentation

**Parameters**

-   `prop`  

## convert_pattern_to_instance

TODO: Needs documentation

**Parameters**

-   `prop`  
-   `values`  

## extend

TODO: Needs documentation

**Parameters**

-   `newClasses`  

## GetExtensions

TODO: Needs documentation

**Parameters**

-   `instanceName`  

## IsInstanceOf

TODO: Needs documentation

**Parameters**

-   `o`  
-   `instanceName`  

## GetEnvironment

Gets the object which represents the current Environment of the context.

Returns **any** a Environment object.

## SetEnvironment

Sets the object which represents the current Environment of the context.

**Parameters**

-   `env` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the Environemnt object to set.

## GetNotifiers

Gets the object which represents the current Notifiers of the context.

Returns **any** an Array of Notifier objects.

## SetNotifiers

Sets the object which represents the current Notifiers of the context.

**Parameters**

-   `n`  
-   `env` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the array of notifiers.

## AddDetectorToSubEnvironmentOnly

Adds a detector to an existing SubEnvironment by name. Assumes that the main Environment is a MultiEnvironment.

**Parameters**

-   `detector` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the MotionDetector object to add.
-   `force` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** can be set to true to push the detector even if not of {MotionDetector} instance (optional, default `false`)
-   `subEnvironment` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the Environment name to add  to, within the MultiEnvironment, if it is a string
    the system will search for an existing sub-environment. If it is an actual environment uses that instance.
-   `checkMulti`   (optional, default `true`)
-   `if` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** false, will not check if there is already an existing MultiEnvironment in the context;

Returns **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true if the detector is successfully created.

## 

A Simple Command line wrapper, it executes the command mentioned after a change in the Environment
and propagates the stdout result to the notifier. It uses node-cmd under the hood. Also provides
System additional info such as memory used, free memory and cpu usage

**Parameters**

-   `command` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is a command to execute
-   `an` **int** interval in milliseconds to execute the commands, if = 0 only executes once, by default is 0
-   `an` **int** killAfter will clear the interval and stop the command after specified number of times.

## MultiEnvironment

**Extends ent.Environment**

An Environment which stores several sub-environments

**Parameters**

-   `params`  

## IOBrokerDetector

**Extends MotionDetector**

Concrete MotionDetector class which monitors changes on the "iobroker" daemon
via executing commands on the command line
In order to work requires iobroker (see iobroker.net) to be installed, otherwise
the executed commands will result in error. The constructor checks if the iobroker
daemon exists. For more information on the iobroker commands visit:
<https://github.com/ioBroker/ioBroker/wiki/Console-commands>
For the NPM package and installation details visit:
<https://www.npmjs.com/package/iobroker>

**Parameters**

-   `callback` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** is the function to execute after initialization, it passes
    the list of items as the first argument (equivalent to doing "iobroker list" in command
    line).

### startMonitoring

Starts the iobroker daemon on the background

## BaseFilter

**Parameters**

-   `val`  
-   `applyTo`  
